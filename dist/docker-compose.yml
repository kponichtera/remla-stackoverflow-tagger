services:
  learning_service:
    build:
      context: src
      dockerfile: learning_service/Dockerfile
    ports:
      - 8010:8010
      - 9010:9010
  interface_service:
    build:
      context: src
      dockerfile: interface_service/Dockerfile
    ports:
      - 8000:8000
      - 9000:9000
  frontend:
    build:
      context: frontend
    ports:
      - 8080:80
    environment:
      NGINX_ENVSUBST_TEMPLATE_DIR: /etc/nginx/templates/dev
      INTERFACE_SERVICE_PROXY_PASS_URL: http://interface_service:8000
